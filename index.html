<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="ppf-reconstruction : 3D Object Reconstruction using Point Pair Features">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>ppf-reconstruction</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/adrelino/ppf-reconstruction">View on GitHub</a>

          <h1 id="project_title">ppf-reconstruction</h1>
          <h2 id="project_tagline">3D Object Reconstruction using Point Pair Features</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/adrelino/ppf-reconstruction/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/adrelino/ppf-reconstruction/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="ppf-reconstruction" class="anchor" href="#ppf-reconstruction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ppf-reconstruction</h1>

<p>This work aims at reconstructing 3D objects by robustly and accurately registering multiple range images of an object from different viewpoints.</p>

<p>An initial alignment between any two overlapping scans is obtained via a voting scheme which matches similar point pair features and thus constrains the relative 6DoF rigid body motion between the poses of two viewpoints. This initial alignment is then refined using pairwise point-to-plane ICP.</p>

<p>The result of this step is a tree of relative pose constraints. In a subsequent global optimization step, we build up a graph of absolute poses, our vertices, from the tree of initial relative pose estimates by adding further edges. We add edges for the k-nearest-neighbors of a vertex, taking the translational difference of the corresponding poses as a distance measure. Constraints between two vertices are added for each closest point correspondence in their respective point clouds. The global point-toplane energy is then minimized iteratively using the nonlinear least-squares method called Multiview Levenberg-Marquardt ICP.</p>

<p>This refined registration of all the scans used may now be integrated and their corresponding point clouds fused and then meshed to obtain the final reconstructed 3D object mesh.</p>

<h3>
<a id="references" class="anchor" href="#references" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>References</h3>

<ul>
<li><p>Haarbach, Adrian <a href="http://adrian-haarbach.de/bscthesis_adrian.pdf">3D Object Reconstruction using Point Pair Features</a>. Bachelor's thesis, Technical University Munich, 2015.</p></li>
<li><p>Drost, B., Ulrich, M., Navab, N., &amp; Ilic, S. (2010). <a href="http://campar.cs.tum.edu/pub/drost2010CVPR/drost2010CVPR.pdf">Model globally, match locally: Efficient and robust 3D object recognition</a>. In Computer Vision and Pattern Recognition (CVPR), 2010 IEEE Conference on (pp. 998-1005). IEEE</p></li>
<li><p>Chen, Y., Medioni, G (1991). Object modeling by registration of multiple range images. In Robotics and Automation, 1991. Proceedings., 1991 IEEE International Conference on, pages 2724â€“2729. IEEE, 1991.</p></li>
<li><p>Fantoni, S., Castellani, U., &amp; Fusiello, A. (2012, October). Accurate and Automatic Alignment of Range Surfaces. In 3DIMPVT (pp. 73-80). ISO 690  </p></li>
<li><p>Kummerle, R., Grisetti, G., Strasdat, H., Konolige, K., &amp; Burgard, W. (2011, May). g 2 o: A general framework for graph optimization. In Robotics and Automation (ICRA), 2011 IEEE International Conference on (pp. 3607-3613). IEEE.</p></li>
</ul>

<h3>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dependencies</h3>

<p>CMake, Eigen3, OpenCV, OpenGL, FreeGLUT, C++11, g2o</p>

<h5>
<a id="install-on-mac-osx-yosemite-using-homebrew" class="anchor" href="#install-on-mac-osx-yosemite-using-homebrew" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>install on Mac OSX Yosemite using homebrew</h5>

<p>make sure brew is installed correctly</p>

<div class="highlight highlight-source-shell"><pre>ruby -e <span class="pl-s"><span class="pl-pds">"</span><span class="pl-s"><span class="pl-pds">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install<span class="pl-pds">)</span></span><span class="pl-pds">"</span></span>
brew doctor</pre></div>

<div class="highlight highlight-source-shell"><pre>brew install cmake
brew install eigen</pre></div>

<p>opencv is needed to load the range images</p>

<div class="highlight highlight-source-shell"><pre>brew tap homebrew/science
brew install opencv</pre></div>

<p>We need xquartz for freeglut to run. For that we first need to accept a license:</p>

<div class="highlight highlight-source-shell"><pre>sudo xcodebuild -license   //accept license</pre></div>

<p>then we can install xquartz on the command line using cast (or alternatively downlaod and install from <a href="http://xquartz.macosforge.org/">http://xquartz.macosforge.org/</a>)</p>

<div class="highlight highlight-source-shell"><pre>brew install Caskroom/cask/xquartz</pre></div>

<p>Freeglut is needed for the visualizer. We might need a restart if a "cannot open display error" appears later on when running our code.</p>

<div class="highlight highlight-source-shell"><pre>brew tap homebrew/x11
brew install freeglut </pre></div>

<p>ready to build and install g2o</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> <span class="pl-k">~</span>/projects
git clone https://github.com/RainerKuemmerle/g2o.git
<span class="pl-c1">cd</span> g2o
mkdir build <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">cd</span> build
cmake ..
make
sudo make install</pre></div>

<h5>
<a id="install-on-linux-ubuntu-1404" class="anchor" href="#install-on-linux-ubuntu-1404" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>install on Linux Ubuntu 14.04</h5>

<div class="highlight highlight-source-shell"><pre>sudo apt-get install cmake libeigen3-dev opencv freeglut </pre></div>

<h6>
<a id="build-and-install-g2o" class="anchor" href="#build-and-install-g2o" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Build and install g2o</h6>

<ul>
<li>if you have ROS indigo installed (<a href="http://wiki.ros.org/indigo/Installation/Ubuntu">http://wiki.ros.org/indigo/Installation/Ubuntu</a>), there is a package for g2o:</li>
</ul>

<div class="highlight highlight-source-shell"><pre>sudo apt-get install ros-indigo-libg2o</pre></div>

<ul>
<li>otherwise manually download and build and install g2o:</li>
</ul>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> <span class="pl-k">~</span>/projects
git clone https://github.com/RainerKuemmerle/g2o.git
<span class="pl-c1">cd</span> g2o
mkdir build <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">cd</span> build
cmake ..
make
sudo make install</pre></div>

<h3>
<a id="build-and-run-ppf-reconstruction" class="anchor" href="#build-and-run-ppf-reconstruction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Build and run ppf-reconstruction</h3>

<p>Now we are ready to build our code</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> <span class="pl-k">~</span>/projects
git clone https://github.com/adrelino/ppf-reconstruction.git
<span class="pl-c1">cd</span> ppf-reconstruction
mkdir build <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">cd</span> build
cmake ..
make</pre></div>

<h5>
<a id="run-with-sample-bunny-sequences" class="anchor" href="#run-with-sample-bunny-sequences" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run with sample bunny sequences</h5>

<p>Real dataset aquired with a PrimeSense sensor:</p>

<div class="highlight highlight-source-shell"><pre>./ppf-reconstruction</pre></div>

<p>Synthetic dataset rendered using Blender:</p>

<div class="highlight highlight-source-shell"><pre>./ppf_reconstruction -dir ../samples/Bunny_Sphere/ -knn 5 -nFrames 5</pre></div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">ppf-reconstruction maintained by <a href="https://github.com/adrelino">adrelino</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-76776232-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
